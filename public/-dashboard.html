<!-- public/dashboard.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Mi SaaS</title>
  
  <link rel="stylesheet" href="/template/styles/template.css">
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div id="app"></div>

  <script type="module">
    import { supabase } from './config.js';
    import { TemplateManager } from './template/core/template-manager.js';
    import { AuthIntegration } from './template/core/auth-integration.js';
    import { createDefaultConfig } from './template/config/default-config.js';
    import { el, mount } from './mount.js';

    async function init() {
      const auth = new AuthIntegration(supabase);
      const userData = await auth.init();

      if (!userData) return;

      const config = createDefaultConfig(window.location.pathname);
      config.topBar.title.text = 'Dashboard';
      
      const dashboardItem = config.sidebar.items.find(i => i.id === 'dashboard');
      if (dashboardItem) dashboardItem.active = true;

      const template = new TemplateManager(config, auth);
      await template.init(document.getElementById('app'));

      renderDashboardContent();
    }

    function renderDashboardContent() {
      const mainContent = document.getElementById('main-content');
      
      mount(mainContent, 'div', { class: 'container p-6' }, [
        el('h1', { class: 'text-3xl font-bold mb-6' }, 'Dashboard'),
        el('p', {}, 'Contenido del dashboard aquí...')
      ]);
    }

    init();
  </script>
</body>
</html>

<!-- 
<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dash</title>

  <link rel="stylesheet" href="style.css">

</head>

<body>
  
  <main class="container py-8">
  <div class="max-w-xl mx-auto bg-white border rounded-lg p-6">
    
    <header class="text-center mb-8">
      <h1 class="text-3xl font-bold mb-2">¡Bienvenido al Dashboard!</h1>
      <p class="text-gray-500">Has accedido correctamente a tu panel de control.</p>
    </header>
    
    <section class="bg-gray-50 rounded-md p-4 mb-8 border">
      <h2 class="text-lg font-semibold mb-3">Información de la cuenta</h2>
      <div class="grid grid-cols-1 gap-2">
        <p class="mb-0">
          <span class="font-medium">Email:</span> 
          <span id="userEmail" class="text-gray-700 italic">Cargando...</span>
        </p>
        <p class="mb-0">
          <span class="font-medium">ID de Usuario:</span> 
          <span id="userId" class="text-sm text-gray-500">Cargando...</span>
        </p>
      </div>
    </section>
    
    <div class="text-center">
      <button id="logoutBtn" class="w-full md:w-auto">
        Cerrar Sesión
      </button>
    </div>
    
  </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.3/dist/umd/supabase.js"></script>
  <script src="config.js"></script>
  <script src="dashboard.js"></script>

</body>

</html>
-->